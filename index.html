<!doctype html>
<html>
    <head>
        <title>Tumblr Likes</title>
        <!-- Oauth.io Javascript SDK -->
        <script type="text/javascript" src="assets/libs/oauth.min.js"></script>
        <script type="text/javascript" src="assets/libs/jquery-1.7.1.min.js"></script>
        <script type="text/javascript" src="assets/libs/mustache.js"></script>
        <script type="text/javascript" src="assets/js/likes.js"></script>
        <script type="text/javascript">
            $(function(){
                console.log("Initialize Oauth.js");
                OAuth.initialize('epZ3ZbW2o20TLFHglXMahz2jWB4');
                $("#signin").click(function(){
                    console.log("#signin clicked");
                    // start oauth
                    OAuth.popup('tumblr', {cache: true}).done(function(tumblr) {
                        // make API calls with `facebook`
                        console.log("User succesfully logedin");
                        console.log(tumblr);

                        // redirect to /likes
                        window.location = "likes";

                    }).fail(function(err) {
                        // todo when the OAuth flow failed
                        console.log("oauth fail: " + err);
                    });
                });
            });
        </script>
        <style type="text/css">
            #content {
                width: 400px;
            }
        </style>
    </head>

    <body>
        <div id="content">
            ようこそ！ここはTumblrのLikeがTileで見れるところです
            <br/><br/>
            はじめるには<a href="#" id="signin">Tumblrにサインイン</a> してね！
        </div>
    </body>
</html>
